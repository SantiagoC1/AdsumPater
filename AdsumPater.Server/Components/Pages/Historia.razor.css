.page-head { padding: 28px 0 10px; }

.badge {
    display: inline-flex; align-items: center; gap: 8px; padding: 6px 12px;
    border-radius: 999px; background: rgba(176,27,24,.14);
    border: 1px solid rgba(176,27,24,.25); color: #b01b18; /* var(--rojo) */
    font-weight: 900; font-size: 12px; letter-spacing: .04em;
}

.page-head h1 { margin: 10px 0 8px; font-size: 34px; letter-spacing: -.2px; color: #281b13; /* var(--marron) */ }
.muted { opacity: .86; margin: 0; color: rgba(40,27,19,.86); }

/* Layout */
.timeline-wrap { padding: 18px 0 44px; }
.timeline-grid { display: grid; grid-template-columns: 1fr 1.2fr; gap: 16px; align-items: start; }

/* Left card */
.timeline-card {
    background: rgba(40,27,19,.94); color: #fff; border-radius: 22px;
    border: 1px solid rgba(194,226,255,.18); overflow: hidden;
}

.timeline-head {
    padding: 16px 16px 10px; display: flex; align-items: center; justify-content: space-between; gap: 12px;
    background: radial-gradient(550px 180px at 18% 18%, rgba(194,226,255,.18), transparent 55%), 
                radial-gradient(500px 160px at 88% 20%, rgba(176,27,24,.18), transparent 55%), 
                rgba(40,27,19,.92);
    border-bottom: 1px solid rgba(250,246,245,.10);
}
.timeline-head h2 { margin: 0; font-size: 18px; letter-spacing: .2px; }
.pill { font-size: 11px; font-weight: 900; padding: 6px 10px; border-radius: 999px; background: rgba(250,246,245,.10); border: 1px solid rgba(250,246,245,.16); }

/* Timeline list */
.timeline { padding: 10px 10px 12px 16px; }
.tl-item {
    width: 100%; text-align: left; display: flex; gap: 12px; padding: 10px 10px; margin: 4px 6px;
    border-radius: 16px; color: inherit; border: 1px solid transparent; background: transparent; cursor: pointer;
}
.tl-item:hover { background: rgba(250,246,245,.06); border-color: rgba(194,226,255,.65); }
.dot { width: 10px; height: 10px; border-radius: 999px; margin-top: 6px; background: #b01b18; box-shadow: 0 0 0 3px rgba(176,27,24,.18); flex: 0 0 auto; }
.tl-body { min-width: 0; flex: 1; }
.tl-top { display: flex; justify-content: space-between; gap: 10px; align-items: baseline; }
.tl-year { font-weight: 1000; letter-spacing: .2px; }
.tl-place { opacity: .9; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.tl-note { margin-top: 4px; font-size: 12px; opacity: .85; }

/* Foot note */
.timeline-foot { padding: 0 16px 16px; }
.callout { background: rgba(250,246,245,.08); border: 1px solid rgba(194,226,255,.20); border-radius: 18px; padding: 12px; font-size: 13px; line-height: 1.35; }

/* Right column (cards) */
.years-head { padding: 6px 0 10px; }
.years-head h2 { margin: 0 0 6px; font-size: 18px; color: #281b13; }
.year-card { background: rgba(250,246,245,.94); border: 1px solid rgba(40,27,19,.12); border-radius: 22px; box-shadow: 0 12px 26px rgba(0,0,0,.06); padding: 16px; margin-bottom: 12px; }
.year-top { display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 10px; }
.year-chip { font-weight: 1000; color: #fff; background: #b01b18; border-radius: 999px; padding: 6px 10px; font-size: 12px; }
.year-title { display: flex; align-items: baseline; gap: 8px; min-width: 0; color: #281b13; }
.year-title strong { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.sep { opacity: .35; }
.small { font-size: 12px; opacity: .8; white-space: nowrap; }
.year-text { margin: 0 0 12px; color: rgba(40,27,19,.90); line-height: 1.45; }
.year-actions { display: flex; gap: 10px; flex-wrap: wrap; }

/* Buttons */
.btn { display: inline-flex; align-items: center; justify-content: center; padding: 10px 14px; border-radius: 999px; text-decoration: none; font-weight: 900; font-size: 13px; border: 1px solid rgba(40,27,19,.16); background: #fff; color: #281b13; cursor: pointer; }
.btn.primary { background: #f7a343; border-color: rgba(40,27,19,.10); }
.btn.primary:hover { filter: brightness(.98); }
.btn.ghost { background: transparent; border-color: rgba(40,27,19,.22); }
.btn.ghost:hover { background: rgba(194,226,255,.35); }

/* Note band */
.note-band { padding: 10px 0 60px; }
.note-inner { background: rgba(40,27,19,.95); border-radius: 22px; padding: 16px; color: #fff; border: 1px solid rgba(176,27,24,.35); display: flex; align-items: center; justify-content: space-between; gap: 14px; flex-wrap: wrap; }
.note-inner h3 { margin: 0 0 6px; }
.note-inner .muted { color: rgba(250,246,245,.92); }
.note-actions { display: flex; gap: 10px; flex-wrap: wrap; }

/* ------- MODAL ------- */
.modal-backdrop {
    position: fixed; inset: 0; background: rgba(40,27,19,.55);
    backdrop-filter: blur(4px); z-index: 1000;
}

.modal {
    position: fixed; inset: 0; display: flex; align-items: center; justify-content: center;
    z-index: 1001; padding: 18px; pointer-events: none; /* Para que el backdrop click funcione atr√°s si hay margin */
}

.modal-card {
    pointer-events: auto; /* Reactivar clicks en la tarjeta */
    width: min(1000px, 100%); max-height: 86vh; overflow: auto;
    background: rgba(250,246,245,.98); border: 1px solid rgba(40,27,19,.14);
    border-radius: 22px; box-shadow: 0 22px 60px rgba(0,0,0,.22);
}

.modal-head {
    display: flex; align-items: flex-start; justify-content: space-between; gap: 14px; padding: 16px 16px 10px;
    border-bottom: 1px solid rgba(40,27,19,.10);
    background: radial-gradient(650px 220px at 20% 0%, rgba(194,226,255,.55), transparent 55%),
                radial-gradient(520px 200px at 90% 10%, rgba(247,163,67,.22), transparent 55%),
                rgba(250,246,245,.98);
    position: sticky; top: 0; z-index: 1;
}

.modal-title { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
.modal-year { display: inline-flex; align-items: center; justify-content: center; height: 28px; padding: 0 12px; border-radius: 999px; background: #b01b18; color: #fff; font-weight: 900; font-size: 12px; }
.modal-place { color: #281b13; }
.icon-btn { border: 1px solid rgba(40,27,19,.14); background: rgba(255,255,255,.85); border-radius: 999px; width: 36px; height: 36px; display: inline-flex; align-items: center; justify-content: center; cursor: pointer; }
.icon-btn:hover { background: rgba(194,226,255,.30); }

.modal-body { padding: 14px 16px 16px; display: grid; grid-template-columns: 1fr 1.1fr; gap: 14px; }
.info-card { background: rgba(255,255,255,.85); border: 1px solid rgba(40,27,19,.10); border-radius: 18px; padding: 12px; margin-bottom: 12px; }
.info-card h3 { margin: 0 0 6px; font-size: 14px; letter-spacing: .2px; }
.facts { margin: 8px 0 0; padding-left: 18px; color: rgba(40,27,19,.88); }

/* Carousel y Testimonios */
.carousel { background: rgba(255,255,255,.85); border: 1px solid rgba(40,27,19,.10); border-radius: 18px; padding: 12px; margin-bottom: 12px; }
.carousel-frame { position: relative; border-radius: 16px; overflow: hidden; border: 1px solid rgba(40,27,19,.10); background: rgba(194,226,255,.20); }
.carousel-frame img { width: 100%; height: 280px; object-fit: cover; display: block; }
.carousel-ind { position: absolute; right: 10px; bottom: 10px; background: rgba(40,27,19,.78); color: #fff; font-size: 12px; padding: 4px 8px; border-radius: 999px; }

.testis { background: rgba(255,255,255,.85); border: 1px solid rgba(40,27,19,.10); border-radius: 18px; padding: 12px; }
.testis h3 { margin: 0 0 8px; font-size: 14px; }
.testi-card { background: rgba(250,246,245,.95); border: 1px solid rgba(40,27,19,.10); border-radius: 16px; padding: 12px; margin-bottom: 8px; }

/* Responsive */
@media (max-width: 980px) {
    .timeline-grid { grid-template-columns: 1fr; }
    .modal-body { grid-template-columns: 1fr; }
    .carousel-frame img { height: 240px; }
}